# 排队论基础

参考《运筹学教程》-胡运权

排队论是对排队问题的研究，表示为随机聚散服务系统。聚即为到达，散即为离去，随机指的是顾客的到达情况与每个顾客接受服务的时间是随机的。

一般来说，顾客的相继到达时间与服务时间这两个量至少有一个量是未知的。因此，排队论一般被称为随机服务系统理论。

以下仅介绍基本概念

## 输入过程

说明顾客如何到达系统：
1. 总数：有限/无限
2. 到达方式：单个/成批
3. 相继到达时间的分布：设Tn为第n个顾客的到达时间，先假设n个顾客相继到达，即`T_1<T_2<...<T_n`，设`X_n=T_n-T_{n-1}`，则假定Xn是独立同分布的。

分布有：
* D，定长分布
* M，泊松分布
* Er，爱尔朗分布（介于泊松分布与正态分布之间）
* G，任意分布

排队可以分为两种：
* 有限排队：排队系统中顾客数有限
* 无限排队：排队系统中顾客数可以是无限的，到达系统后均可接受服务

有限排队系统有可以分为：
* 损失制排队系统，排队空间为零，不能处理则立刻损失
* 混合制排队系统，允许排队，但不允许无限延长

混合制排队系统一般具有以下特点：
1. 队长有限
2. 等待时间有限
3. 逗留时间（等待时间+服务时间）有限

## 排队规则

* FCFS 先来先服务
* LCFS 后来先服务
* PS，具有优先权的服务

## 服务机制

已经知道服务太的服务时间V，对应的分布函数B(t)，密度函数b(t)

负指数分布：t>0时有$b(t)=\mu e^{-\mu t}$

...

## 记号系统

Kendall记号系统：`X/Y/Z/A/B/C`

* X表示顾客相继到达时间间隔的分布
* Y表示服务时间的分布
* Z表示并联服务台的个数
* A表示系统容量，即总共能容纳的顾客的个数
* B表示顾客源的数目
* C表示服务规则

## 描述指标

一些描述排队系统的指标

* 队长：系统中的顾客数$N(t)$
* 排队长：系统中正在排队的顾客数$N_q(t)$
* 等待时间：用户到达到接受服务的时间，$T_q(t)$
* 逗留时间：用户到达到服务完毕的时间$T(t)$

即如果涉及到队列则加上q

一般来说，难以估算这些量的瞬时分布，所以排队论中会选择系统处于平衡状态时进行分析。此时，队长的分布，等待时间的分布，忙期的分布与系统所处的时刻无关。

* 队长$N$的均值为$L$
* 排队长$N_q$的均值为$L_q$
* 逗留时间$T$的均值为$W$
* 等待时间$T_q$的均值为$W_q$
* $\lambda_n$，表示状态n下新客户的平均到达率
* $\mu_n$，表示状态n写新客户的平均服务率，即单位时间可以服务完的客户数

此时，顾客相继到达的平均时间间隔为$1/\lambda$，平均服务时间为$1/\mu$ 

服务台的数量为s个，系统的容量（允许处理的所有顾客数）为K个

$\rho = \frac{\lambda}{s\mu}$，表示服务强度

## 一些公式

* Erlang等待公式：表示顾客到达系统需要等待的概率
* Little's law，$W=L/\lambda$，即逗留时间会等于队列长度除以平均到达率。
* Pollaczek-Khintchine(P-K公式)，M/G/1下的公式描述，表示等待队列的长度与服务时间的分布无关。